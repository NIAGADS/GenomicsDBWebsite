<?xml version="1.0" encoding="UTF-8"?>
<wdkModel>

    <querySet name="NIAGADSDatasetAttributes" queryType="attribute" isCacheable="false">

        <defaultTestParamValues>
            <paramValue name="accession">NG00027</paramValue>
        </defaultTestParamValues>

        <testRowCountSql>
      select count(*) from NIAGADS.ResourceAttributes
        </testRowCountSql>


        <!-- =============================================================== -->
        <!-- Basic Attributes -->
        <!-- =============================================================== -->

        <sqlQuery name="BasicAttributes">
            <column name="type"/>
            <column name="project_id"/>
            <column name="description"/>
	    <column name="name"/>
            <sql>
                <![CDATA[
			 SELECT '@PROJECT_ID@'::text AS project_id, t.* 
			 FROM (VALUES
			 ('gwas_summary', 'GWAS Summary Statistics', 
			 'Summary statistics from a genome-wide association study of AD or an AD-related dementia'), 
			 ('single_variant', 'Single-Variant Association Test',
			 'Summary statistics from a single variant test of association to AD or an AD-related dementia'),
			 ('gene_risk', 'Gene-level Aggregate (Rare Variant) Association Test',
			 'Summary statistics from association test of cumulative effects of rare variants in genetic (gene) regions'
			 ) AS t (type, name, description)
                    ]]>
            </sql>
        </sqlQuery>
    </querySet>


  
    <querySet name="NIAGADSDatasetTables" queryType="table" isCacheable="false">

     
        <!-- =============================================================== -->
        <!-- Basic Attributes -->
        <!-- =============================================================== -->

        <sqlQuery name="Datasets">
            <column name="type"/>
            <column name="track"/>
            <column name="name"/>
	    <column name="consortium"/>
	    <column name="description"/>
	    <column name="neuropathology"/>
	    <column name="population"/>
	    <column name="covariates"/>
	    <column name="additional_phenotype"/>




	    
            <sql>
                <![CDATA[
                    SELECT dataset_accession AS accession, '@PROJECT_ID@'::text AS project_id,
                    build_link_attribute(track, '../gwas_summary/', NULL, 'view detailed report or mine these data') AS track,
                    name, description
                    FROM NIAGADS.TrackAttributes
                    ORDER BY name
		]]>
            </sql>
        </sqlQuery>
    </querySet>
</wdkModel>

